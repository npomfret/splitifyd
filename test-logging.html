<!DOCTYPE html>
<html>
<head>
    <title>Logging Test</title>
</head>
<body>
    <h1>Logging System Test</h1>
    <p>Check the console to see logging output</p>
    <button onclick="testLogging()">Test Logging</button>
    
    <script src="js/utils.js"></script>
    <script>
        function testLogging() {
            console.log('=== Testing Logging System ===');
            
            // Test 1: Default CHANGE level should suppress INFO logs
            console.log('\n1. Testing CHANGE level (should be silent for routine operations):');
            Utils.setLogLevel('CHANGE');
            Utils.log('This routine info message should not appear', null, 'INFO');
            Utils.log('This debug message should not appear', null, 'DEBUG');
            
            // Test 2: Change detection should work
            console.log('\n2. Testing change detection:');
            Utils.logChange('test-state', { count: 1 }, 'State changed to count=1');
            Utils.logChange('test-state', { count: 1 }, 'Same state - should not log');
            Utils.logChange('test-state', { count: 2 }, 'State changed to count=2');
            
            // Test 3: INFO level should show important messages
            console.log('\n3. Testing INFO level:');
            Utils.setLogLevel('INFO');
            Utils.log('Important info message should appear', null, 'INFO');
            Utils.log('Debug message should not appear', null, 'DEBUG');
            
            // Test 4: DEBUG level should show everything
            console.log('\n4. Testing DEBUG level:');
            Utils.setLogLevel('DEBUG');
            Utils.log('Info message should appear', null, 'INFO');
            Utils.log('Debug message should appear', null, 'DEBUG');
            
            console.log('\n=== Test Complete ===');
            
            // Reset to CHANGE level for actual usage
            Utils.setLogLevel('CHANGE');
        }
        
        // Run test automatically
        testLogging();
    </script>
</body>
</html>