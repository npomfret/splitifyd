<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project - Fair Split</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-nav">
                <a href="index.html" class="back-link">‚Üê Back</a>
                <h1 id="project-name">Loading...</h1>
            </div>
            <div class="sync-status">
                <span id="sync-indicator" class="sync-indicator"></span>
                <button id="sync-btn" class="btn btn-small">Sync</button>
            </div>
        </header>

        <main>
            <section id="members-section" class="card">
                <h2>Members</h2>
                <div id="members-list" class="members-list"></div>
                <div class="member-add">
                    <input type="text" id="member-name" placeholder="Your name">
                    <button id="join-project-btn" class="btn btn-secondary">Join Project</button>
                </div>
            </section>

            <section id="add-expense-section" class="card hidden">
                <h2>Add Expense</h2>
                <form id="expense-form">
                    <input type="text" id="expense-description" placeholder="Description" required>
                    <div class="form-row">
                        <input type="number" id="expense-amount" placeholder="Amount" step="0.01" required>
                        <select id="expense-currency">
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="CAD">CAD</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Paid by:</label>
                        <select id="expense-payer" required></select>
                    </div>
                    <div class="form-group">
                        <label>Split between:</label>
                        <div id="expense-split-members" class="checkbox-group"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Expense</button>
                </form>
            </section>

            <section id="expenses-section" class="card hidden">
                <h2>Expenses</h2>
                <div id="expenses-list" class="expenses-list"></div>
            </section>

            <section id="balances-section" class="card hidden">
                <h2>Balances</h2>
                <div id="balances-list" class="balances-list"></div>
                <h3>Suggested Payments</h3>
                <div id="suggested-payments" class="suggested-payments"></div>
                <button id="record-settlement-btn" class="btn btn-secondary">Record Settlement</button>
            </section>

            <section id="leave-section" class="card hidden">
                <button id="leave-project-btn" class="btn btn-danger">Leave Project</button>
            </section>
        </main>

        <div id="loading" class="loading hidden">
            <div class="spinner"></div>
        </div>

        <div id="error-message" class="error-message hidden"></div>

        <div id="settlement-modal" class="modal hidden">
            <div class="modal-content">
                <h3>Record Settlement</h3>
                <form id="settlement-form">
                    <div class="form-group">
                        <label>From:</label>
                        <select id="settlement-from" required></select>
                    </div>
                    <div class="form-group">
                        <label>To:</label>
                        <select id="settlement-to" required></select>
                    </div>
                    <div class="form-row">
                        <input type="number" id="settlement-amount" placeholder="Amount" step="0.01" required>
                        <select id="settlement-currency">
                            <option value="USD">USD</option>
                            <option value="EUR">EUR</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="CAD">CAD</option>
                        </select>
                    </div>
                    <div class="modal-actions">
                        <button type="submit" class="btn btn-primary">Record</button>
                        <button type="button" id="cancel-settlement" class="btn">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/cache.js"></script>
    <script src="js/sync.js"></script>
    <script src="js/balance.js"></script>
    <script src="js/app.js"></script>
    <script src="js/project.js"></script>
</body>
</html>